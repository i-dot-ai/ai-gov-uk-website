{# Any changes made here, please also do the same in richTextToHTML filter in .eleventy.js #}

{% macro video (data) %}

    {% set uuid = "" | UUID %}

    <video class="{{ data.classes }}" data-pagefind-ignore controls preload="auto" poster="{{ data.poster | default('/videos/video-poster.png') }}" aria-describedby="ad-{{ uuid }}">
        <source src="{{ data.source }}" type="video/mp4" />
        Download the <a href="{{ data.source }}">video</a>
    </video>
    {% if data.audioDescription and data.audioDescription != data.source %}
        <p class="iai-video__audio-description" id="ad-{{ uuid }}" data-pagefind-ignore>
            <img src="/icons/audio-description.svg" loading="lazy" alt=""/>
            <a class="link" href="{{ data.audioDescription }}">Audio described video</a>
        </p>
    {% endif %}

{% endmacro %}