---
layout: base.njk
templateEngineOverride: njk
pagination:
    data: blogs
    size: 1
    alias: blog
permalink: "blogs/{{ blog.title | slugify }}/"
# Note: If permalink changes - also update in base.njk
---

{% from "./_includes/blog-author.njk" import blogAuthor %}
{% from "./_includes/blog-header.njk" import blogHeader %}
{% from "./_includes/video.njk" import video %}
{% from "./_includes/blog-components/infographic.njk" import infographic %}


{{ blogHeader() }}

<div class="iai-blog-title container">
    <h2 class="iai-blog-title__title">{{ blog.title }}</h2>
    <p class="iai-blog-title__date">{{ blog.date | dateFormat }}</p>
    <div class="d-md-flex gap-5">
        {% for author in blog.authors %}
            {{ blogAuthor (author, "large") }}
        {% endfor %}
    </div>
    {% if blog.summaryLong %}
        <p class="iai-blog-title__summary">{{ blog.summaryLong }}</p>
    {% endif %}
</div>

<div class="iai-blog-content container">
    
    <div class="iai-blog-content__inner-container">

        <div class="iai-blog-title__cover-image-container">
            {% if blog.coverImage.title %}
                <figure>
                    <img class="iai-blog-title__cover-image" src="{{ blog.coverImage.file.url }}?w=1536" alt="{{ blog.coverImage.description }}"/>
                    <figcaption class="iai-blog-title__figcaption">{{ blog.coverImage.title }}</figcaption>
                </figure>
            {% else %}
                <img class="iai-blog-title__cover-image" src="{{ blog.coverImage.file.url }}?w=1536" alt="{{ blog.coverImage.description }}"/>
            {% endif %}
        </div>


        <script src="https://cdn.jsdelivr.net/npm/@splidejs/splide@4.1.4/dist/js/splide.min.js"></script>
        <link href="https://cdn.jsdelivr.net/npm/@splidejs/splide@4.1.4/dist/css/splide.min.css" rel="stylesheet">
        <style>
            .iai-blog-carousel {
                background: var(--Linear, linear-gradient(157deg, #F6EEF0 -3.69%, #F8F8F8 139.85%));
                margin: 2rem 0;
                padding-bottom: 1.5rem;
            }
            .iai-blog-carousel h3 {
                font-size: 1.5rem !important;
                padding: 0.5rem;
                padding-top: 1.5rem;
                text-align: center;
            }
            .splide__slide {
                margin-bottom: 1.25rem;
            }
            .splide__slide-inner {
                background-color: white;
                border-radius: 0.5rem;
                box-shadow: -4px 4px 10px 0px rgba(0, 0, 0, 0.15);
                color: black;
                font-size: 0.875rem;
                height: 100%;
                opacity: 0.6;
                padding: 1.5rem;
                transform: scale(0.9);
                transition: all 0.2s;
                width: 100%;
            }
            .splide__slide.is-active .splide__slide-inner {
                opacity: 1;
                transform: scale(1);
            }
            .iai-blog-carousel__author {
                font-weight: bold;
            }
            .iai-blog-carousel__author span:nth-child(2) {
                font-weight: 400;
            }
            .iai-blog-carousel__text {
                display: block;
                font-style: italic;
                font-weight: 400;
                line-height: 1.5;
                margin-top: 1rem;
            }
            .splide__arrow {
                background-color: var(--iai-pink);
                opacity: 0.9;
            }
            .splide__arrow svg {
                fill: white;
            }
            .splide__pagination__page, .splide__pagination__page.is-active {
                background-color: var(--iai-pink);
                opacity: 1;
            }
        </style>

        {% set question1 = [
            {
                author: "Ben Rowell",
                text: "I was drawn to i.AI because I wanted to make a real difference in people's lives, and I found a team of brilliant minds who share that passion. It's exciting that I get to work with cutting-edge technology while innovating services that have the potential to positively impact people up and down the country; that combination is pretty special."
            },
            {
                author: "Jude Webb",
                text: "To experiment and test with how we build digital products. AI products are not as predictable as more traditional products, so what do we do the same and what do we need to learn to do differently?"
            },
            {
                author: "Liam Wilkinson",
                text: "To have impact outside of a quarterly earnings report!"
            },
            {
                author: "James Lowe",
                text: "I wanted to build AI products that made a positive impact, and believed the best way to do this was inside government working in an empowered and highly skilled team."
            },
            {
                author: "Charlotte Ryall",
                text: "To be part of an exciting, innovative team that I could bring a user centred design perspective to.  There are incredible minds and expertise in the technical AI space. I hope to bring how we make products useful, useable and delightful for the people who are using the tools we create."
            },
            {
                author: "Nina Menezes",
                text: "It was an exciting opportunity to work in a technical team, working on projects for the public good."
            },
            {
                author: "Victoria Bew",
                text: "To take what I know about social innovation and government strategy, and apply it to one of the biggest opportunity areas of modern life - Artificial Intelligence."
            }
        ] %}

        <section class="iai-blog-carousel splide" aria-labelledby="carousel-heading1">
            <h3 id="carousel-heading1">Why did you join i.AI?</h3>
            <div class="splide__track">
                <ul class="splide__list">
                    {% for item in question1 %}
                        <li class="splide__slide">
                            <div class="splide__slide-inner">
                                <h4 class="iai-blog-carousel__author">
                                    <span>{{ item.author }}</span>
                                    <span> - Job title</span>
                                </h4>
                                <span class="iai-blog-carousel__text">{{ item.text }}</span>
                            </div>
                        </li>
                    {% endfor %}
                </ul>
            </div>
        </section>
        <script>
            new Splide( '.splide', {
                focus: 'center',
                gap: '0.125rem',
                padding: '6rem',
                type: 'loop',
            } ).mount();
        </script>

    </div>

    {% if blog.source === "Contentful" %}
        <div class="iai-blog-content__inner-container">
            <div id="content">
                {{ blog.content | richTextToHTML | safe }}
            </div>
        </div>
    {% else %}
        {% for component in blog.components %}
            {% if component.type == "bodyText" %}
                <div class="iai-blog-content__inner-container">
                    <div id="content">
                        {{ component.content | markdownToHtml | safe }}
                    </div>
                </div>
            {% elif component.type == "video" %}
                <div class="iai-blog-content__inner-container">
                    <div id="content">
                        {{ video({
                            classes: "iai-promo-video",
                            source: component.source,
                            audioDescription: component.audioDescription
                        }) }}
                    </div>
                </div>
            {% elif component.type == "infographic" %}
                {{ infographic() }}
            {% endif %}
        {% endfor %}
    {% endif %}


    {# Custom blog components #}
    {% if blog.title == "The i.AI Taxonomy" %}
        {% from "./_includes/blog-components/project-types.njk" import projectTypes %}
        {{ projectTypes() }}
    {% endif %}
    {% if blog.title == "Improving Legislative Drafting with Lex" %}
        <div class="iai-blog-content__inner-container">
            {% from "./_includes/blog-components/lex-slide.njk" import lexSlide %}
            {{ lexSlide() }}
        </div>
    {% endif %}
    {% if blog.title == "Singapore" %}
        {% from "./_includes/blog-components/box-out.njk" import boxOut %}
        {{ boxOut(
            '<h2><img src="/img/launchpad_logo.png" alt="Launchpad" loading="lazy" width="220"/></h2><p>The Launchpad operates within GovTech, fostering innovation through ideathons and engaging with various government agencies. Over 500 ideas have been collected, with four agencies currently engaged and more in the pipeline.Target audience includes transformation teams and public officers, with a six-month timeline comprising a launch, sprints, and a final release. A web page facilitates idea submissions, leveraging LLMs for detail expansion, community upvoting, and direct links to prototypes.</p>'
        ) }}
    {% endif %}

    {% if blog.contentPart2 %}
        <div class="iai-blog-content__inner-container">
            {{ blog.contentPart2 | richTextToHTML | safe }} 
        </div>
    {% endif %}


    {# CMS Preview #}
    {% if blog.title === "Preview" %}
        <script>

            let contentContainer = document.querySelector("#content");
            let componentTemplates = {};

            // Defaults
            window.addEventListener("DOMContentLoaded", () => {
                document.querySelector("header").remove();
                document.querySelector("main").style.paddingTop = "0";
                document.querySelector("main").style.paddingBottom = "2rem";
                document.querySelector("footer").remove();
                componentTemplates.video = contentContainer.removeChild(contentContainer.querySelector("video")).outerHTML;
                componentTemplates.infographic = document.querySelector(".iai-blog-content").removeChild(document.querySelector(".iai-infographic")).outerHTML;
            });

            // Data from CMS
            window.addEventListener('message', function(evt) {

                //console.log(evt.data);
                
                document.querySelector(".iai-blog-title__title").textContent = evt.data.title || "[Title goes here]";

                const date = evt.data.date;
                document.querySelector(".iai-blog-title__date").textContent = date || "[Date goes here]";

                document.querySelector(".iai-blog-author__name").textContent = evt.data.author || "[Author goes here]";

                document.querySelector(".iai-blog-title__summary").textContent = evt.data.summaryBlogPage || "";

                document.querySelector(".iai-blog-title__cover-image").src = evt.data.leadImage || "http://images.ctfassets.net/6kma07ky7db0/1XcpSnasKxYkoGcikH35Sx/23eea9f19c2cc885bc5c5040fcd7df4d/Frame_3__1_.png?w=1536";

                let mainContent = "";
                evt.data.components.forEach((component) => {
                    if (component.type === "bodyText") {
                        mainContent += component.content;
                    } else if (component.type === "video") {
                        mainContent += componentTemplates.video.replace(`src=""`, `src="${component.source}"`);
                    } else if (component.type === "infographic") {
                        mainContent += componentTemplates.infographic;
                    }
                });
                contentContainer.innerHTML = mainContent;

            });

        </script>
    {% endif %}

</div>

